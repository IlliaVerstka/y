class Me{constructor(e){this.typeMedia=e}init(){if(this.elements=document.querySelectorAll("[data-me]"),this.objects=[],this.elements.length>0){for(let e=0;e<this.elements.length;e++){const t=this.elements[e],s={};s.el=t;const o=t.dataset.me.split(",").map((e=>e.trim()));s.dataAttr={size:o[0],block:o[1],index:o[2]},s.parentElement=s.el.parentElement,s.indexParent=Array.from(s.parentElement.children).indexOf(s.el),this.objects.push(s)}for(let e=0;e<this.objects.length;e++){const t=this.objects[e],s=window.matchMedia(`(${this.typeMedia}-width:${t.dataAttr.size}px)`);this.mediaHandler(s,t),s.addEventListener("change",(e=>this.mediaHandler(e,t)))}}}mediaHandler(e,t){e.matches?(t.el.classList.add("-me"),this.moveTo(t.el,t.dataAttr.block,t.dataAttr.index)):(t.el.classList.remove("-me"),this.moveBack(t.el,t.parentElement,t.indexParent))}moveTo(e,t,s){if(document.querySelector(t)){const o=document.querySelector(t),l=o.children,n="first"==s?0:"last"==s?void 0:s;null!=l[n]?l[n].insertAdjacentElement("beforebegin",e):o.insertAdjacentElement("beforeend",e)}}moveBack(e,t,s){const o=t.children;null!=o[s]?o[s].insertAdjacentElement("beforebegin",e):t.insertAdjacentElement("beforeend",e)}}const me=new Me("max");me.init();class Popup{init(){this.elements=document.querySelectorAll("[data-popup-link]"),this.objects=[],this.elements.length>0&&document.addEventListener("click",(e=>this.actionPopupDocument(e,this)))}actionPopupDocument(e,t){const s=e.target,o=document.querySelectorAll("[data-popup].-anim");if(s.closest("[data-popup-link]")&&(e.preventDefault(),0===o.length)){const e=s.closest("[data-popup-link]"),o=document.querySelectorAll("[data-popup].-open");o.forEach((e=>e.classList.remove("-open")));document.querySelector(".header__burger");if(document.querySelector(".menu").classList.remove("-open"),document.body.classList.remove("-lock"),addPadding(!1),document.querySelector(`${e.dataset.popupLink}`)){const s=document.querySelector(`${e.dataset.popupLink}`);o.length>0?t.openPopup(s,!1):t.openPopup(s)}}if(s.closest("[data-popup-close]")&&(e.preventDefault(),0===o.length)){const e=s.closest("[data-popup-close]").closest("[data-popup]");t.closePopup(e)}if(s.closest("[data-popup]")&&!s.closest("[data-popup-content]")&&0===o.length){const e=s.closest("[data-popup]");t.closePopup(e)}}openPopup(e,t=!0){e.classList.add("-open"),e.classList.add("-anim"),setTimeout((()=>{e.classList.remove("-anim")}),400),t&&(addPadding(!0),document.body.classList.add("-lock-popup"))}closePopup(e){e.classList.add("-anim"),e.classList.remove("-open"),setTimeout((()=>{addPadding(!1),document.body.classList.remove("-lock-popup"),e.classList.remove("-anim")}),400)}}const popup=new Popup;popup.init();let slideUp=(e,t=400)=>{e.classList.contains("-anim")||(e.classList.add("-anim"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("-anim")}),t))},slideDown=(e,t=400)=>{if(!e.classList.contains("-anim")){e.classList.add("-anim"),e.hidden&&(e.hidden=!1);let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("-anim")}),t)}},slideToggle=(e,t=400)=>e.hidden?slideDown(e,t):slideUp(e,t);class ValidateForm{constructor(e,t){this.form=e,this.objUser=t,e.addEventListener("submit",(s=>this.formSend(s,this,e,t)))}async formSend(e,t,s,o){e.preventDefault();if(0===t.validateForm(s,o)){s.classList.add("-sending");new FormData(s);if((await fetch(o.url,{method:o.method})).ok?console.log("result"):console.log("Error"),s.reset(),o.items.input&&o.items.input.length>0&&o.items.input.forEach((e=>{e.blur()})),s.querySelectorAll(".-custom-select")){s.querySelectorAll(".-custom-select").forEach((e=>e.reset()))}s.classList.remove("-sending")}else console.log("Emptly")}validateForm(e,t){let s=0;for(const e in t.items){const o=t.items[e];if("input"==e&&o.length>0&&o.forEach((e=>{this.removeError(e),e.classList.contains("-tel")?this.telTest(e)&&(this.addError(e),s++):e.classList.contains("-email")?this.emailTest(e)&&(this.addError(e),s++):e.classList.contains("-password")?(e.value.length<8||e.value.length>10)&&(this.addError(e),s++,e.value.length<8&&console.log("passswod 8"),e.value.length>10&&console.log("passswod 10")):e.value||(this.addError(e),s++)})),"checkbox"==e&&o.length>0&&o.forEach((e=>{this.removeError(e),e.checked||(this.addError(e),s++)})),"radio"==e&&o.length>0){const e={};o.forEach((t=>{e[t.name]||(e[t.name]=[]),e[t.name].push(t)}));for(const t in e){const o=e[t],l=Array.from(o).filter((e=>e.checked))[0];o.forEach((e=>{this.removeError(e)})),l||o.forEach((e=>{this.addError(e),s++}))}}"select"==e&&o.length>0&&o.forEach((e=>{e.classList.remove("-error"),e.classList.contains("-custom-select-no-choose")&&(e.classList.add("-error"),s++)}))}return s}removeError(e){e.parentElement.classList.remove("-error"),e.classList.remove("-error");const t=e.closest("form");t.classList.contains("-error")&&t.classList.remove("-error")}addError(e){e.parentElement.classList.add("-error"),e.classList.add("-error");const t=e.closest("form");t.classList.contains("-error")||t.classList.add("-error")}emailTest(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}telTest(e){return!/^((8|\+7)[\- ]?)?(\(?\d{3,4}\)?[\- ]?)?[\d\- ]{5,10}$/.test(e.value)}}const inputsValue=document.querySelectorAll("[data-value]");function animateMarquee(e,t){const s=e.querySelector("[data-marquee-inner]"),o=s.offsetWidth,l=s.cloneNode(!0);e.appendChild(l);let n,c,r=performance.now();requestAnimationFrame((function e(i){n=(i-r)/t,n>1&&(n%=1,r=i),c=o*n,s.style.transform=`translate3d(${c}px, 0, 0)`,l.style.transform=`translate3d(${c}px, 0, 0)`,requestAnimationFrame(e)}))}inputsValue.length>0&&inputsValue.forEach((e=>{const t=e.dataset.value;e.value||(e.placeholder=t),e.addEventListener("focus",(()=>{e.placeholder=""})),e.addEventListener("blur",(()=>{e.placeholder=t}))}));const marqueeElemnets=document.querySelectorAll("[data-marquee]");marqueeElemnets.length>0&&marqueeElemnets.forEach((e=>{animateMarquee(e,e.dataset.marquee)}));const isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function actionDocument(e){const t=e.target;if(t.closest(".header__burger")&&(e.preventDefault(),document.querySelector(".menu").classList.add("-open"),addPadding(!0),document.body.classList.add("-lock")),(t.closest(".menu")&&!t.closest(".menu__body")||t.closest(".menu__close"))&&(e.preventDefault(),t.closest(".menu").classList.remove("-open"),document.body.classList.remove("-lock"),addPadding(!1)),t.closest(".arrow-top")){e.preventDefault();t.closest(".arrow-top");window.scrollTo({top:0,behavior:"smooth"})}}function addPadding(e){const t=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",s=document.querySelectorAll(".-add-padding-fixed"),o=document.querySelectorAll(".-add-margin-fixed");e?(s.forEach((e=>e.style.paddingRight=t)),o.forEach((e=>e.style.marginRight=t))):(s.forEach((e=>e.style.paddingRight="")),o.forEach((e=>e.style.marginRight="")))}document.addEventListener("click",actionDocument);const arrowTop=document.querySelector(".arrow-top");if(arrowTop){function handlerArrowTop(){scrollY>window.innerHeight?(arrowTop.classList.remove("-hide"),arrowTop.classList.add("-show")):(arrowTop.classList.remove("-show"),arrowTop.classList.add("-hide"))}document.addEventListener("scroll",handlerArrowTop),window.addEventListener("resize",handlerArrowTop),handlerArrowTop()}SmoothScroll({animationTime:500,stepSize:100,accelerationDelta:30,accelerationMax:2,keyboardSupport:!0,arrowScroll:50,pulseAlgorithm:!0,pulseScale:4,pulseNormalize:1,touchpadSupport:!0});var phoneInputs=document.querySelectorAll(".phone-input-form-request__input:not(.-input-phone-only) input");phoneInputs.length>0&&phoneInputs.forEach((e=>{e.phoneInputMask=IMask(e,{mask:"+7(000)000-00-00",lazy:!0,placeholderChar:"0"})}));var phoneInputOnly=document.querySelectorAll(".phone-input-form-request__input.-input-phone-only input");phoneInputOnly.length>0&&phoneInputOnly.forEach((e=>{e.phoneInputMask=IMask(e,{mask:"+7(000)000-00-00",lazy:!0,placeholderChar:"0"})}));class CustomSelect{init(){if(this.elements=document.querySelectorAll("[data-custom-select]"),this.objects=[],this.elements.length>0){for(let e=0;e<this.elements.length;e++){const t=this.elements[e],s={};s.select=t,s.options=s.select.options,s.selectedIndex=s.select.selectedIndex,s.className=s.select.classList[0],s.mLabel=!!s.select.hasAttribute("data-custom-select-mlabel")&&s.select.dataset.customSelectMlabel,s.label=!!s.select.hasAttribute("data-custom-select-label")&&s.select.dataset.customSelectLabel,s.selectPhone=!!s.select.hasAttribute("data-custom-select-phone"),this.objects.push(s)}for(let e=0;e<this.objects.length;e++){const t=this.objects[e];t.select.className="",t.select.style.display="none",this.createStructure(t.select,t.options,t.className,t.mLabel,t.label,t.selectPhone),t.customSelect={},t.customSelect.select=t.select.nextElementSibling,t.customSelect.openner=t.customSelect.select.querySelector(".-custom-select__openner"),t.customSelect.value=t.customSelect.select.querySelector(".-custom-select__value"),t.customSelect.flag=t.customSelect.select.querySelector(".-custom-select__flag"),t.customSelect.icon=t.customSelect.select.querySelector(".-custom-select__icon"),t.customSelect.body=t.customSelect.select.querySelector(".-custom-select__body"),t.customSelect.items=t.customSelect.select.querySelectorAll(".-custom-select__item"),this.fillContent(t);const s=t.customSelect;t.label?s.select.classList.add("-custom-select-no-choose"):s.items[t.select.selectedIndex].classList.add("-active"),slideUp(s.body,0),s.select.addEventListener("click",(e=>this.actionCustomSelect(e,t.label,t.select,t.options,t.selectPhone))),document.addEventListener("click",this.actionDocument);const o=this;s.select.reset=function(){const e=s.items[t.selectedIndex];o.activeOption(e,t.select,t.options,s.select,selectPhone,t.label)}}}}createStructure(e,t,s,o,l,n){const c=`<div class="${s} -custom-select">`,r=`<a href="" class="${s}__openner -custom-select__openner">`,i="</a>",a=`<div class="${s}__value -custom-select__value">${l||""}</div>`,d=`<div class="${s}__icon -custom-select__icon"></div>`;let m;if(n){m=r+`<div class="${s}__flag -custom-select__flag"></div>`+d+a+i}else m=r+(o?`<div class="${s}__mlabel -custom-select__mlabel">${o}</div>`:"")+a+d+i;const u=`<div class="${s}__body -custom-select__body">`;let p="";for(let e=0;e<t.length;e++){p+=`<div class="${s}__item -custom-select__item"></div>`}const h=c+m+(u+p+"</div>")+"</div>";e.insertAdjacentHTML("afterend",h)}fillContent(e){const t=e.options[e.select.selectedIndex];if(!e.label)if(e.select){const s=Array.from(t.dataset.label.split(",")).map((e=>e.trim()));e.customSelect.value.innerHTML=s[1],e.customSelect.flag.innerHTML=`<img src="${s[2]}" alt="">`}else e.customSelect.value.innerHTML=t.innerHTML;const s=Array.from(e.options).map((t=>{if(e.selectPhone){const e=Array.from(t.dataset.label.split(",")).map((e=>e.trim()));return`<div class="phone-input-select__name">${e[0]}</div><div class="phone-input-select__code">${e[1]}</div><div class="phone-input-select__flag"><img src="${e[2]}" alt=""></div>`}return t.innerHTML}));e.customSelect.items.forEach(((e,t)=>{e.innerHTML=s[t]}))}actionCustomSelect(e,t,s,o,l){const n=e.target,c=e.currentTarget,r=c.querySelector(".-custom-select__value"),i=c.querySelector(".-custom-select__body"),a=c.querySelectorAll(".-custom-select__item");if(n.closest(".-custom-select__item")&&(document.querySelector(".-custom-select__body.-anim")||(t&&c.classList.contains("-custom-select-no-choose")&&c.classList.remove("-custom-select-no-choose"),n.classList.contains("-active")||this.activeOption(n,s,o,c,l),c.classList.remove("-open"),slideUp(i))),n.closest(".-custom-select__openner")&&(e.preventDefault(),!document.querySelector(".-custom-select__body.-anim"))){const e=n.closest(".-custom-select__openner");if(document.querySelector(".-custom-select.-open")){const e=document.querySelector(".-custom-select.-open");if(e!=c){const t=e.querySelector(".-custom-select__body");slideUp(t),e.classList.remove("-open")}}c.classList.contains("-open")?(e.vars=[],e.removeEventListener("blur",this.blurOpenner),e.removeEventListener("keydown",this.keydownOpenner),document.removeEventListener("keydown",this.keydownDocument)):(e.vars=[this,s,o,c,r,i,a,t,l],e.addEventListener("keydown",this.keydownOpenner),document.addEventListener("keydown",this.keydownDocument),e.addEventListener("blur",this.blurOpenner)),c.classList.toggle("-open"),slideToggle(i)}}blurOpenner(e){if(!document.querySelector(".-custom-select__body.-anim")){const t=e.target,s=t.vars[0],o=t.vars[3],l=t.vars[5];"Tab"==t.eventKey&&(o.classList.remove("-open"),slideUp(l),t.eventKey=void 0),t.removeEventListener("blur",s.blurOpenner),t.removeEventListener("keydown",s.keydownOpenner),document.removeEventListener("keydown",s.keydownDocument)}}keydownDocument(e){"ArrowUp"!=e.code&&"ArrowDown"!=e.code||e.preventDefault()}keydownOpenner(e){const t=e.target,s=t.vars[0],o=t.vars[1],l=t.vars[2],n=t.vars[3],c=(n.querySelector(".-custom-select__value"),n.querySelector(".-custom-select__body")),r=n.querySelectorAll(".-custom-select__item"),i=t.vars[7],a=t.vars[8];if(t.eventKey=e.code,"Tab"==e.code&&document.querySelector(".-custom-select__body.-anim")&&e.preventDefault(),!document.querySelector(".-custom-select__body.-anim")&&("Escape"==e.code&&(n.classList.remove("-open"),slideUp(c)),"ArrowUp"==e.code||"ArrowDown"==e.code)){let t=n.querySelector(".-custom-select__item.-active");if(!t)return t=r[0],s.activeOption(t,o,l,n,a),i&&n.classList.contains("-custom-select-no-choose")&&n.classList.remove("-custom-select-no-choose"),!1;"ArrowUp"==e.code&&t.previousElementSibling&&s.activeOption(t.previousElementSibling,o,l,n,a),"ArrowDown"==e.code&&t.nextElementSibling&&s.activeOption(t.nextElementSibling,o,l,n,a)}}activeOption(e,t,s,o,l,n=null){o.querySelector(".-custom-select__openner");const c=o.querySelector(".-custom-select__value"),r=o.querySelector(".-custom-select__flag"),i=o.querySelectorAll(".-custom-select__item");if(l&&(e=e.closest(".-custom-select__item")),i.forEach((e=>e.classList.remove("-active"))),t.selectedIndex=Array.from(i).indexOf(e),n){c.innerHTML=n;c.closest(".-custom-select").classList.add("-custom-select-no-choose")}else{const o=t.selectedIndex;if(i[o].classList.add("-active"),l){const t=Array.from(s[o].dataset.label.split(",")).map((e=>e.trim()));c.innerHTML=t[1],r.innerHTML=`<img src="${t[2]}" alt="">`;const l=e.closest(".input-form-request").querySelector(".-input-form input");if(Array.from(phoneInputs).includes(l)){const e=l.phoneInputMask;l.value;e.updateOptions({mask:t[3]}),l.setAttribute("data-value",t[3]),l.setAttribute("placeholder",t[3]),e.value=e.unmaskedValue}}else c.innerHTML=s[o].innerHTML}}actionDocument(e){if(!e.target.closest(".-custom-select")&&document.querySelector(".-custom-select.-open")&&!document.querySelector(".-custom-select__body.-anim")){const e=document.querySelector(".-custom-select.-open"),t=e.querySelector(".-custom-select__body");e.classList.remove("-open"),slideUp(t)}}}const customSelect=new CustomSelect;customSelect.init();const fixedScroll=document.querySelector(".-fixed-scroll");if(fixedScroll){function scrollFixed(){const e=fixedScroll.parentElement,t=fixedScroll.dataset.fixedStart,s=e.getBoundingClientRect().top+scrollY-+t,o=e.offsetHeight-fixedScroll.offsetHeight+s;isMobile.any()?(fixedScroll.classList.remove("-f"),fixedScroll.style.cssText=""):scrollY>s?scrollY>o?fixedScroll.style.cssText=`width:${e.offsetWidth}px;top:${+getComputedStyle(fixedScroll).paddingTop.replace("px","")-(scrollY-(o+ +t))}px;`:fixedScroll.classList.contains("-f")||(fixedScroll.classList.add("-f"),fixedScroll.style.cssText=`width:${e.offsetWidth}px;top:${t}px;`):fixedScroll.classList.contains("-f")&&(fixedScroll.classList.remove("-f"),fixedScroll.style.cssText="")}window.addEventListener("scroll",scrollFixed),scrollFixed()}